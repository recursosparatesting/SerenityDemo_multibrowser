#En la linea de comando se debe indicar cual ambiente se va usar para ejecutar, ejemplo: gradle test -Denviroment="chrome"
#environment = edge   #solo para pruebas desde el framework se fija el ambiente de esta manera.

serenity.project.name = orangeHRMDemo
serenity.test.root =  features
serenity.requirements.dir = features
serenity.requirements.base.dir = src/test/resources
serenity.outputDirectory = target/site/serenity
serenity.report.encoding=UTF8
serenity.take.screenshots = FOR_EACH_ACTION
webdriver.timeouts.implicitlywait=15000

environments {
  chrome {
    webdriver {
      driver = "chrome"
      autodownload = true
      capabilities {
        browserName = "chrome"
        acceptInsecureCerts = true
        "goog:chromeOptions" {
          args = ["--start-maximized", "--enable-automation", "--no-sandbox", "--disable-popup-blocking", "--disable-infobars", "--disable-notifications", "--remote-allow-origins=*", "--ignore-certificate-errors"]
        }
      }
    }
  }
  edge {
    webdriver {
    driver = "edge"
    autodownload = true
      capabilities {
        browserName = "MicrosoftEdge"
        "ms:edgeOptions" {
          args = ["test-type", "ignore-certificate-errors", "headless",
            "incognito", "disable-infobars", "disable-gpu", "disable-default-apps", "disable-popup-blocking"]
        }
      }
    }
  }
  firefox {
    webdriver {
      driver = "firefox"
      autodownload = true
      capabilities {
        browserName = "firefox"
        pageLoadStrategy = "normal"
        acceptInsecureCerts = true
        unhandledPromptBehavior = "dismiss"
        strictFileInteractability = true

        "moz:firefoxOptions" {
          args = ["-headless"],
          prefs {
            "javascript.options.showInConsole": false
          },
          log {"level": "info"},
        }
      }
    }
  }
}
